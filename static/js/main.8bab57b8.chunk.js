(this["webpackJsonpwhere-is-waldo"]=this["webpackJsonpwhere-is-waldo"]||[]).push([[0],{25:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),s=c(17),r=c.n(s),i=(c(25),c(10)),o=c.n(i),u=c(18),l=c(12),d=c(5),j=c(13),b=(c(27),c(28),c(2));var h=function(){return Object(b.jsxs)("div",{className:"StartScreen",children:[Object(b.jsx)("h1",{children:"Where's Waldo!"}),Object(b.jsx)("h3",{children:"Use the dropdown menu to select a picture, and press start to play a game of Where's Waldo! You'll be provided with an image in which several characters are hiding, and a list of them from which to choose. Once you think you've found one, click on the area they're hiding in, select them from the list, and click the Here's Waldo! button. If you made the right choice, they'll be gone from the list of characters left to find. If you manage to find all of them quickly enough, you may even end up on the leaderboard!"})]})};var O=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){return[s(e.characters[0])]}),[e]),Object(b.jsxs)("div",{className:"CharacterSelect",children:[e.characters.map((function(e,t){return 0===t?Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:e,children:e}),Object(b.jsx)("input",{onClick:s.bind(null,e),type:"radio",id:e,name:"character",value:e,defaultChecked:!0})]},e):Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:e,children:e}),Object(b.jsx)("input",{onClick:s.bind(null,e),type:"radio",id:e,name:"character",value:e})]},e)})),Object(b.jsx)("button",{type:"button",onClick:e.submitChar.bind(null,a),children:"Here's Waldo!"})]})};c(30);var f=function(e){return Object(b.jsx)("div",{className:e.class,pos:e.pos,onClick:e.setCurrentID.bind(null,e.pos)})};c(31);var p=function(e){return Object(b.jsx)("div",{id:"gameContainer",children:Object(b.jsx)("div",{className:"Gameboard",style:{backgroundImage:'url("'.concat(e.gameData.url,'")')},children:function(){for(var t=[],c=0;c<50;c++)c!==e.currentID?t.push(Object(b.jsx)(f,{pos:c,class:"Square",setCurrentID:e.setCurrentID},c)):t.push(Object(b.jsx)(f,{pos:c,class:"Square Selected",setCurrentID:e.setCurrentID},c));return t}()})})};var m=function(e){return Object(b.jsxs)("div",{className:"Score",children:[Object(b.jsxs)("h2",{children:["Hits: ",e.hits]}),Object(b.jsxs)("h2",{children:["Misses: ",e.misses]})]})},v=(c(36),c(37),c(20)),x=c.n(v);j.a.initializeApp({apiKey:"AIzaSyDIZQJvndsGa2X-lEU-G7EtFA3llsyv0-s",authDomain:"where-s-waldo-1b941.firebaseapp.com",projectId:"where-s-waldo-1b941",storageBucket:"where-s-waldo-1b941.appspot.com",messagingSenderId:"380101538458",appId:"1:380101538458:web:8bbac8988680d42e8e2523",measurementId:"G-846PNCVGYC"});var g=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(d.a)(s,2),i=r[0],f=r[1],v=Object(n.useState)(!0),g=Object(d.a)(v,2),y=g[0],w=g[1],S=Object(n.useState)(!1),k=Object(d.a)(S,2),C=k[0],I=k[1],D=Object(n.useState)(""),E=Object(d.a)(D,2),W=E[0],G=E[1],N=Object(n.useState)({}),Y=Object(d.a)(N,2),q=Y[0],z=Y[1],A=Object(n.useState)(0),B=Object(d.a)(A,2),F=B[0],H=B[1],J=Object(n.useState)(0),M=Object(d.a)(J,2),P=M[0],U=M[1],K=Object(n.useState)(0),L=Object(d.a)(K,2),Q=L[0],R=L[1],V=Object(n.useState)(0),X=Object(d.a)(V,2),Z=X[0],T=X[1],$=Object(n.useState)(!1),_=Object(d.a)($,2),ee=_[0],te=_[1],ce=Object(n.useState)(""),ne=Object(d.a)(ce,2),ae=ne[0],se=ne[1],re=Object(n.useState)(),ie=Object(d.a)(re,2),oe=ie[0],ue=ie[1],le=Object(n.useState)([]),de=Object(d.a)(le,2),je=de[0],be=de[1],he=Object(n.useState)([]),Oe=Object(d.a)(he,2),fe=Oe[0],pe=Oe[1],me=j.a.firestore();function ve(){return(ve=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,me.collection("games").orderBy("id","asc").get();case 3:return e.sent.forEach((function(e){return t.push(e.id)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return(xe=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.collection("games").doc(W).get();case 2:t=e.sent,z(t.data()),T(t.data().characters);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(0===Z.length){te(!0);var e=Date.now();me.collection("times").doc(ae).get().then((function(t){var c=t.data().time;ue((e-c)/1e3)}))}}),[Z]),Object(n.useEffect)((function(){null!=oe&&me.collection("games").doc(W).get().then((function(e){var t=e.data().highscores,c=window.prompt("Enter your name so that we can save your score!","Waldo");t.push(Object(u.a)({},oe,c)),t.sort((function(e,t){return Object.keys(e)[0]-Object.keys(t)[0]})),t=t.slice(0,10),me.collection("games").doc(W).update({highscores:t});var n=[],a=[];t.forEach((function(e){n.push(Object.values(e)[0]),a.push(Object.keys(e)[0])})),be(a),pe(n)}))}),[oe]),Object(n.useEffect)((function(){var e;w(!0),function(){return ve.apply(this,arguments)}().then((function(t){f(e=t),w(!1),G(e[0])}))}),[]),Object(n.useEffect)((function(){c&&function(){return xe.apply(this,arguments)}().then((function(){I(!0);var e=Date.now(),t=x.a.v4();se(t),me.collection("times").doc(t).set({time:e})}))}),[c]),c&&C?ee?null!=oe?Object(b.jsxs)("div",{id:"gameWon",children:[Object(b.jsxs)("div",{children:["You've won!! You did it it ",oe," seconds"]}),Object(b.jsx)("ol",{children:fe.map((function(e,t){return Object(b.jsxs)("li",{children:[e,": ",je[t]," seconds"]})}))}),Object(b.jsx)("button",{type:"button",onClick:function(){return window.location.reload()},children:"Play again"})]}):Object(b.jsxs)("div",{id:"gameWon",children:["You've won!! You did it it ",oe," seconds"]}):Object(b.jsxs)("div",{id:"game",children:[Object(b.jsx)(p,{gameData:q,setCurrentID:R,currentID:Q}),Object(b.jsxs)("div",{id:"gameInfo",children:[Object(b.jsx)(m,{hits:F,misses:P}),Object(b.jsx)("button",{type:"button",onClick:a.bind(null,!1),children:"Stop"}),Object(b.jsx)(O,{characters:Z,submitChar:function(e){console.log(e),console.log(Q),console.log(q.positions[e]),q.positions[e].includes(Q)?(H(F+1),T(Z.filter((function(t){return t!==e})))):U(P+1)}})]})]}):y?Object(b.jsxs)("div",{id:"start",children:[Object(b.jsx)(h,{}),Object(b.jsx)("h2",{children:"Loading Games"})]}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{id:"start",children:[Object(b.jsx)(h,{}),Object(b.jsx)("select",{name:"gameSelection",id:"gameSelection",onChange:function(e){G(e.target.value)},children:i.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"button",onClick:a.bind(null,!0),children:"Start"})]}),Object(b.jsx)("footer",{children:Object(b.jsx)("a",{href:"https://github.com/mazqt/Where-is-Waldo",children:"Github Repo"})})]})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.8bab57b8.chunk.js.map